<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spectrogram in real time</title>
    <link rel="stylesheet" href="reset.css">
    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
        }
        #canvas-wrapper {
            height: 80%;
        }
        #setting-wrapper {
            height: 8%;
        }
    </style>
</head>
<body>
    <section id="setting-wrapper">
        <select id="mic-selector">
            <option>Loading...</option>
        </select>
        <input type="text" id="second" value="60" /> seconds /
        Range(max) <input type="text" id="max-hz" value="5000" /> Hz
        <button id="start-btn" onmouseup="clickRecBtn()">start</button>
    </section>
    
    <section id="canvas-wrapper" height="100%">
        <canvas id="canvas"></canvas>
    </section>

    <script type="text/javascript">
        const startBtn = document.getElementById('start-btn');
        const canvas = document.getElementById('canvas')
        const context = canvas.getContext('2d')
        const canvasWrapper = document.getElementById('canvas-wrapper')
        const canvasWidth = canvasWrapper.getBoundingClientRect().width
        const canvasHeight = canvasWrapper.getBoundingClientRect().height
        canvas.setAttribute("width", canvasWidth.toString())
        canvas.setAttribute("height", canvasHeight.toString())
        context.fillStyle = '#000000'
        context.fillRect(0, 0, canvasWidth, canvasHeight)
    </script>
    <script type="text/javascript" src="getDevices.js"></script>
    <script type="text/javascript" src="recorder.js"></script>
    <script type="text/javascript" src="drawSpectrogram.js"></script>
</body>
</html>